# Redis进阶

## 持久性

Redis是内存级别的数据库, 其实是不持久的, 为了让Redis持久化, 只有将数据存储在硬盘里面, 但是Redis相比于MySql, 他的速度快很多,
为了保证速度快, 怎么进行平衡这些关系, 最终Redis决定既存储在内存, 又存储在硬盘, 实际上也可能存在差异。

Redis写入硬盘的时候也会进行性能的优化, 让他区别于MySQL, 有着很大的性能优势。

### Redis快照

- 手动触发

    - save : 由于Redis是单线程, 可能阻塞Redis的其他客户端

    - bgsave : backgroud save, 不会影响Redis服务器处理其他的请求, 这里的实现方式不是多线程, 此处Redis使用的"多进程"的方式实现的并发编程, 但是由于Windows上面进程开销很大

- 自动触发

    配置在配置脚本中, 定期多久进行触发

### rdb进行持久化

rdb的一些特点和问题

- RDB数据加载远远快于AOF, 因为他是二进制加载的格式

- RBD不能实时持久化, 

- RDB采用特定的二进制格式, 不同的版本可能不同, 可能导致版本不兼容的问题

### AOF(append only file)进行持久化

会将Redis中的操作进行存储, 如果启动AOF,那么rdb就不再生效



